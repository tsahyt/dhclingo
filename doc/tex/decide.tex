\begin{algorithm}
    \SetKwProg{Fn}{Function}{ is}{end} 
    \SetKwData{SolverLit}{solverChoice}
    \SetKwData{Decisions}{decisions}
    \SetKwFunction{Decide}{decide}
    \SetKwFunction{MakeDecision}{makeDecision}
    \Fn{\Decide{\SolverLit}}{
        \Switch{decision mode}{
            \uCase{online}{
                initialize solver with heuristic program\;
                ground and solve heuristic program\;
                let $m = $ first model of heuristic\;
                $d \leftarrow$ \texttt{heuristic/4} atoms in $m$\;
                $\ell \leftarrow$ literal corresponding to best decision in $d$ not marked untouchable\;
                \Return{$\ell$}
            }
            \uCase{offline}{
                \If{\Decisions = $\emptyset$}{
                    initialize solver with heuristic program\;
                    ground and solve heuristic program\;
                    let $m = $ first model of heuristic\;
                    \Decisions $=$ sorted \texttt{heuristic/4} atoms in $m$\;
                }
                \While{\Decisions $\neq \emptyset$}{
                    $d \leftarrow$ \Decisions.pop()\;
                    \lIf{$d$ not marked untouchable}{\Return \MakeDecision{$d$,\SolverLit}}
                }
                \Return \SolverLit
            }
            \lCase{resigned}{\Return \SolverLit}
        }
    }
    \Fn{\MakeDecision{heuristic atom $h$, \SolverLit}}{
        \Switch{atom in $h$}{
            \uCase{"vsids"}{\Return{\SolverLit}}
            \Case{"resign"}{
                set decision mode to resigned\;
                \Return{\SolverLit}
            }
            \Other{
                $\ell \leftarrow$ literal corresponding to atom and sign in $h$\;
                \Return{$\ell$}
            }
        }
    }
\end{algorithm}
