#!/bin/bash

show_help() {
cat << EOF
Usage: ${0##*/} [-h] [-o] <program> <clingo options> <other programs> ...
Run hclingo with a declarative heuristic.

    -h              display this help and exit
    -o              offline heuristic
    -r              restart heuristic on one-step backtracking
EOF
}

# process command line arguments
OFFLINE=0
BTRACK=0

OPTIND=1
while getopts hor opt; do
    case $opt in
        h)
            show_help
            exit 0
            ;;
        o)
            OFFLINE=1
            ;;
        r)
            BTRACK=1
    esac
done
shift $(expr $OPTIND - 1 )

MFILE=$1
shift

# run hclingo
env MFILE=$MFILE OFFLINE=$OFFLINE BTRACK=$BTRACK hclingo dhclingo.lp $@
